<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:st1="urn:schemas-microsoft-com:office:smarttags"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="DmGuard.files/filelist.xml">
<link rel=Edit-Time-Data href="DmGuard.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>无标题文档</title>
<o:SmartTagType namespaceuri="urn:schemas-microsoft-com:office:smarttags"
 name="chsdate"/>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>User</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>User</o:LastAuthor>
  <o:Revision>916</o:Revision>
  <o:TotalTime>286</o:TotalTime>
  <o:Created>2010-05-26T10:51:00Z</o:Created>
  <o:LastSaved>2020-07-27T09:59:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>1105</o:Words>
  <o:Characters>6302</o:Characters>
  <o:Company>Microsoft</o:Company>
  <o:Lines>52</o:Lines>
  <o:Paragraphs>14</o:Paragraphs>
  <o:CharactersWithSpaces>7393</o:CharactersWithSpaces>
  <o:Version>11.6568</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>110</w:Zoom>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:Compatibility>
   <w:UseFELayout/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]--><!--[if !mso]><object
 classid="clsid:38481807-CA0E-42D2-BF39-B33AF135CC4D" id=ieooui></object>
<style>
st1\:*{behavior:url(#ieooui) }
</style>
<![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;}
p.style1, li.style1, div.style1
	{mso-style-name:style1;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:宋体;
	mso-bidi-font-family:宋体;
	color:blue;
	font-weight:bold;}
span.style11
	{mso-style-name:style11;
	color:blue;
	font-weight:bold;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:72.0pt 90.0pt 72.0pt 90.0pt;
	mso-header-margin:42.55pt;
	mso-footer-margin:49.6pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="24578"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN link=blue vlink=purple style='tab-interval:21.0pt'>

<div class=Section1>

<p class=style1><span style='font-size:13.5pt'>函数简介<span lang=EN-US>:<o:p></o:p></span></span></p>

<p><span style='font-size:13.5pt'>针对部分检测措施的保护盾<span lang=EN-US>.<span
style='mso-spacerun:yes'>&nbsp; </span></span><span style='color:fuchsia'>前面有五角星的表示同时支持<span
lang=EN-US>32</span>位和<span lang=EN-US>64</span>位<span lang=EN-US>,</span>否则就仅支持<span
lang=EN-US>64</span>位<span lang=EN-US>. <br>
</span>驱动功能支持的系统版本号为<span lang=EN-US>(win7/win8/win8.1/win10(10240)/win10(10586)/win10(14393)/win10(15063)/win10(16299)/win10(17134)/win10(17763)/win10(18362)/win10(18363)/win10(19041)<br>
</span>不支持所有的预览版本<span lang=EN-US>,</span>仅仅支持正式版本<span lang=EN-US>.<o:p></o:p></span></span></span></p>

<p><span class=style11><span style='font-size:13.5pt'>函数原型<span lang=EN-US>:</span></span></span><span
lang=EN-US style='font-size:13.5pt'><br>
<br>
<span class=GramE>long</span> <span class=SpellE>DmGuard</span>(<span
class=SpellE>enable,type</span>)<o:p></o:p></span></p>

<p><span class=style11><span style='font-size:13.5pt'>参数定义<span lang=EN-US>:</span></span><span
lang=EN-US><o:p></o:p></span></span></p>

<p><span lang=EN-US style='font-size:13.5pt'>enable </span><span
style='font-size:13.5pt;color:maroon'>整形数<span lang=EN-US>: <br>
<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span lang=EN-US style='font-size:13.5pt'>0</span><span
style='font-size:13.5pt'>表示关闭保护盾<span lang=EN-US>(</span><span
style='color:fuchsia'>仅仅对<span lang=EN-US>memory memory2 memory3 memory4 b2 b3</span>起作用</span><span
lang=EN-US>)<br>
<span
style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>1</span>表示打开保护<span class=GramE>盾</span><span lang=EN-US><o:p></o:p></span></span></p>

<p style='margin-left:81.0pt;text-indent:-81.0pt;mso-char-indent-count:-6.0'><span
lang=EN-US style='font-size:13.5pt'>type </span><span style='font-size:13.5pt;
color:gray'>字符串</span><span lang=EN-US style='font-size:13.5pt'>: </span><span
style='font-size:13.5pt'>参数具体内容可以是以下任意一个<span lang=EN-US>.<br>
<span style='color:red'><span style='mso-spacerun:yes'>&nbsp;</span></span></span><span
style='color:red'>★</span><span lang=EN-US>&quot;<span class=SpellE>np</span>&quot;
: </span>这个是防止<span lang=EN-US>NP</span>检测<span lang=EN-US>(</span><span
style='color:fuchsia'>这个<span class=GramE>盾</span>已经过时<span lang=EN-US>,</span>不建议使用</span><span
lang=EN-US>).<br>
<span style='color:red'><span style='mso-spacerun:yes'>&nbsp;</span></span></span><span
style='color:red'>★</span><span lang=EN-US>&quot;memory&quot; : </span>这个保护内存系列接口和汇编接口可以正常运行<span
lang=EN-US>.<span style='color:fuchsia'> (</span></span><span style='color:
fuchsia'>此模式需要加载驱动<span lang=EN-US>)<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span></span><span
style='color:red'>★</span><span lang=EN-US>&quot;memory2&quot; : </span>这个保护内存系列接口和汇编接口可以正常运行<span
lang=EN-US>.<span style='color:fuchsia'> (</span></span><span style='color:
fuchsia'>此模式需要加载驱动<span lang=EN-US>)<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span></span><span lang=EN-US>&quot;memory3
<span class=SpellE>pid</span> <span class=SpellE>addr_start</span> <span
class=SpellE>addr_end</span>&quot; : </span>这个保护内存系列接口和汇编接口可以正常运行<span
lang=EN-US>.<span class=SpellE>pid</span></span>表示要操作内存的进程<span lang=EN-US>ID,</span>指定了以后<span
lang=EN-US>,</span>所有内存系列接口仅能对此<span class=SpellE><span lang=EN-US>pid</span></span>进程进行操作<span
lang=EN-US>,</span>其他进程无效<span lang=EN-US>. </span>但此<span class=GramE>盾速度</span>较快。<span
class=SpellE><span lang=EN-US>addr_start</span></span>表示起始地址<span lang=EN-US>(</span>此参数可以忽略<span
lang=EN-US>),<span class=SpellE>addr_end</span></span>表示结束地址<span lang=EN-US>(</span>此参数可以忽略<span
lang=EN-US>). </span>另外，如果你发现有地址读写不到，可以尝试重新调用<span class=GramE>一次此</span>盾<span
lang=EN-US>.</span>此盾是对指定的<span lang=EN-US>PID</span>，指定的地址范围做快照<span
lang=EN-US>.<span style='color:fuchsia'> (</span></span><span style='color:
fuchsia'>此模式需要加载驱动<span lang=EN-US>)<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span></span><span lang=EN-US>&quot;memory4&quot;
: </span>这个保护内存系列接口和汇编接口可以正常运行<span lang=EN-US>.<span style='color:fuchsia'> (</span></span><span
style='color:fuchsia'>此模式需要加载驱动<span lang=EN-US>)<br>
</span></span><span lang=EN-US><br>
<span style='mso-spacerun:yes'>&nbsp;</span></span><span style='color:red'>★</span><span
lang=EN-US>&quot;display2&quot; : </span>同<span lang=EN-US>display,</span>但此模式用在一些极端的场合<span
lang=EN-US>. </span>比如用任何截<span class=GramE>图软件</span>也无法截图时，可以考虑这个盾<span
lang=EN-US>.<br>
<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span><span style='color:red'>★</span><span
lang=EN-US>&quot;display3 &lt;<span class=SpellE>hwnd</span>&gt;&quot; : </span>此<span
class=GramE>盾可以</span>保护当前进程指定的窗口<span lang=EN-US>(</span>和子窗口<span lang=EN-US>)</span>，无法被用正常手段截图<span
lang=EN-US>. <span class=SpellE>hwnd</span></span>是必选参数<span lang=EN-US>. </span>并且必须是顶级窗口<span
lang=EN-US>.<span style='color:fuchsia'> </span></span><span style='color:fuchsia'>此盾有限制<span
lang=EN-US>,</span>具体查看下方的备注<span lang=EN-US>.</span></span><span lang=EN-US><br>
<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span><span style='color:red'>★</span><span
lang=EN-US>&quot;block [<span class=SpellE>pid</span>]&quot; : </span>保护指定进程不被非法访问<span
lang=EN-US>. <span class=SpellE>pid</span></span>为可选参数<span lang=EN-US>.</span>如果不指定<span
class=SpellE><span lang=EN-US>pid</span></span>，默认保护当前进程<span lang=EN-US>,</span>另<span
class=GramE>种实现</span>方式<span lang=EN-US>.</span><span style='color:fuchsia'>（此模式需要加载驱动<span
lang=EN-US>,</span>另外此盾在<span lang=EN-US>64</span>位系统下无法隐藏驱动<span lang=EN-US>,</span>调用后会让驱动无法隐藏<span
lang=EN-US>,</span>所以<span lang=EN-US>64</span>位系统下<span lang=EN-US>,</span>不太建议使用此盾<span
lang=EN-US>)<br>
<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span></span><span
style='color:red'>★</span><span lang=EN-US>&quot;b2 [<span class=SpellE>pid</span>]&quot;
: </span>保护指定进程不被非法访问<span lang=EN-US>. <span class=SpellE>pid</span></span>为可选参数<span
lang=EN-US>.</span>如果不指定<span class=SpellE><span lang=EN-US>pid</span></span>，默认保护当前进程<span
lang=EN-US>,</span>另<span class=GramE>种实现</span>方式<span lang=EN-US>.<span
style='color:fuchsia'>(</span></span><span style='color:fuchsia'>此模式需要加载驱动<span
lang=EN-US>),</span>另外<span lang=EN-US>,b2</span>盾有副作用，会导致任何和音频输出的函数无声音<span
lang=EN-US>(</span>比如，<span lang=EN-US>Play</span>和<span lang=EN-US>Beep</span>函数，或者类似此函数实现的方式<span
lang=EN-US>. </span>解决办法是另外创建一个进程用来播放音乐<span lang=EN-US>). </span>另外要特别注意，个别系统上，会出现保护进程退出时，导致系统蓝屏，解决办法是在进程结束前，关闭<span
lang=EN-US>b2</span>盾即可<span lang=EN-US>.<br>
<br>
<span style='mso-spacerun:yes'>&nbsp; </span></span></span><span lang=EN-US>&quot;b3
[<span class=SpellE>pid</span>]&quot; : </span>保护指定进程不被非法访问<span lang=EN-US>. <span
class=SpellE>pid</span></span>为可选参数<span lang=EN-US>.</span>如果不指定<span
class=SpellE><span lang=EN-US>pid</span></span>，默认保护当前进程<span lang=EN-US>,</span>另<span
class=GramE>种实现</span>方式<span lang=EN-US>.<span style='color:fuchsia'>(</span></span><span
style='color:fuchsia'>此模式需要加载驱动<span lang=EN-US>),</span>另外<span lang=EN-US>,b3</span>盾有副作用，会导致无法创建线程，无法结束线程<span
lang=EN-US>,</span>无法操作某些系统<span lang=EN-US>API(</span>比如打开文件对话框<span
lang=EN-US>)</span>，无法绑定目标窗口等等<span lang=EN-US>,</span>解决办法是，临时关闭<span
lang=EN-US>b3</span>，进行你的操作<span lang=EN-US>,</span>然后再打开<span lang=EN-US>b3</span>。<span
lang=EN-US> <br>
<br>
</span></span><span lang=EN-US style='color:red'><span
style='mso-spacerun:yes'>&nbsp; </span></span><span lang=EN-US>&quot;f1 [<span
class=SpellE>pid</span>]&quot; : </span>把当前进程伪装成<span class=SpellE><span
lang=EN-US>pid</span></span>指定的进程，可以保护进程路径无法被获取到<span lang=EN-US>.</span>如果省略<span
class=SpellE><span lang=EN-US>pid</span></span>参数，则伪装成<span lang=EN-US>svchost.exe</span>进程<span
lang=EN-US>. <span style='color:fuchsia'>(</span></span><span style='color:
fuchsia'>此模式需要加载驱动<span lang=EN-US>),</span>另外，简单游平台专用版本无法使用此盾，原因是和简单游有冲突。<span
lang=EN-US><span style='mso-spacerun:yes'>&nbsp;&nbsp; </span></span>还有，使用此盾后，别人无法获取到你的进程的真实路径，但自己也同样无法获取，所以如果要获取真实路径，请务必在获取到路径后保存，再调用此盾<span
lang=EN-US>. <span class=SpellE>pid</span></span>参数如果有效，那必须是一个真实存在的<span
class=SpellE><span lang=EN-US>pid</span></span><span lang=EN-US>,</span>否则会失败<span
lang=EN-US>.</span>如果被伪装的进程关闭了，那么当前进程也会立刻失去伪装<span lang=EN-US>. </span>还有最重要的一点，伪装的进程和目的进程，占用内存要差不多，最好目的进程占用内存要大于被伪装进程，否则可能会导致进程崩溃<span
lang=EN-US>!!!<span style='mso-spacerun:yes'>&nbsp; </span></span>有些编译平台编译出的程序<span
lang=EN-US>,</span>貌似开<span class=GramE>这个盾会导致</span>异常，可以尝试<span lang=EN-US>f2</span>盾<span
lang=EN-US>.<br>
<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span></span><span
style='color:red'>★ </span><span lang=EN-US>&quot;d1 [<span class=SpellE>cls</span>][add
<span class=SpellE>dll_name</span> exact]&quot; : </span>阻止指定的<span
class=SpellE><span lang=EN-US>dll</span></span>加载到本进程<span lang=EN-US>.</span>这里的<span
class=SpellE><span lang=EN-US>dll_name</span></span>不区分大小写<span lang=EN-US>.<span
style='color:fuchsia'> </span></span><span style='color:fuchsia'>具体调用方法看下面的例子<span
lang=EN-US>.</span></span><span lang=EN-US> <br>
<br>
<span style='mso-spacerun:yes'>&nbsp;</span></span><span style='color:red'>★ </span><span
lang=EN-US>&quot;f2 &lt;<span class=SpellE>target_process</span>&gt; &lt;<span
class=SpellE>protect_process</span>&gt;&quot; :</span>把<span class=SpellE><span
lang=EN-US>protect_process</span></span>伪装成<span class=SpellE><span lang=EN-US>target_process</span></span>运行<span
lang=EN-US>. </span><span class=GramE>此盾会加载</span><span class=SpellE><span
lang=EN-US>target_process</span></span>运行<span lang=EN-US>,</span>然后用<span
class=SpellE><span lang=EN-US>protect_process</span></span>来替换<span
class=SpellE><span lang=EN-US>target_process</span></span><span lang=EN-US>,</span>从而达到伪装自身的目的<span
lang=EN-US>.</span>此盾<span class=GramE>不</span>加载驱动 <span lang=EN-US
style='color:fuchsia'>(</span><span style='color:fuchsia'>使用此盾后，别人无法获取到你的进程的真实路径，但自己也同样无法获取，所以如果要获取真实路径，请务必在获取到路径后保存后<span
lang=EN-US>,</span>通过共享内存等方式传递给保护进程<span lang=EN-US>). </span>返回值为伪装后的进程<span
lang=EN-US>ID<br>
<br>
</span></span><span lang=EN-US>&quot;<span class=SpellE>phide</span> [<span
class=SpellE>pid</span>]&quot; : </span>隐藏指定进程<span lang=EN-US>,</span>保护指定进程以及进程内的窗口不被非法访问<span
lang=EN-US>. <span class=SpellE>pid</span></span>为可选参数<span lang=EN-US>.</span>如果不指定<span
class=SpellE><span lang=EN-US>pid</span></span>，默认保护当前进程<span lang=EN-US>.<span
style='color:fuchsia'>(</span></span><span style='color:fuchsia'>此模式需要加载驱动<span
lang=EN-US>,</span>普通版本仅支持<span lang=EN-US>32</span>位系统<span lang=EN-US>)<br>
</span></span><span lang=EN-US>&quot;phide2 [<span class=SpellE>pid</span>]&quot;
: </span>同<span class=SpellE><span lang=EN-US>phide</span></span><span
lang=EN-US>. </span>只是进程不隐藏<span lang=EN-US>(</span>可在任务管理器中操作<span lang=EN-US>)
<span style='color:fuchsia'>(</span></span><span style='color:fuchsia'>此模式需要加载驱动<span
lang=EN-US>,</span>普通版本仅支持<span lang=EN-US>32</span>位系统<span lang=EN-US>)</span></span><span
lang=EN-US><br>
&quot;phide3 [<span class=SpellE>pid</span>]&quot; : </span>只隐藏进程<span
lang=EN-US>(</span>在任务管理<span class=GramE>器看不到</span><span lang=EN-US>),</span>但不保护进程和窗口<span
lang=EN-US>. <span style='color:fuchsia'>(</span></span><span style='color:
fuchsia'>此模式需要加载驱动<span lang=EN-US>,</span>普通版本仅支持<span lang=EN-US>32</span>位系统<span
lang=EN-US>)<br>
<br>
</span></span><span lang=EN-US>&quot;<span class=SpellE>hm</span> module
unlink&quot; : </span>防止当前进程中的指定模块被非法访问<span lang=EN-US>. module</span>为模块名<span
lang=EN-US>(</span>为<span lang=EN-US>0</span>表示<span lang=EN-US>EXE</span>模块<span
lang=EN-US>),</span>比如<span lang=EN-US>dm.dll </span>。<span lang=EN-US> unlink</span>取<span
lang=EN-US>0</span>或者<span lang=EN-US>1</span>，<span lang=EN-US>1</span>表示是否把模块在进程模块链表中擦除<span
lang=EN-US>,0</span>表示<span class=GramE>不</span>擦除<span lang=EN-US>.<span
style='color:fuchsia'>(</span></span><span style='color:fuchsia'>此模式需要加载驱动<span
lang=EN-US>) <br>
<br>
</span></span><span lang=EN-US>&quot;inject mode <span class=SpellE>pid</span>
&lt;param1&gt; &lt;param2&gt;&quot; : </span>注入指定的<span lang=EN-US>DLL</span>到指定的进程中<span
lang=EN-US>. mode</span>表示注入模式<span lang=EN-US>. <span class=SpellE>pid</span></span>表示需要注入进去的进程<span
lang=EN-US>ID . param1</span>和<span lang=EN-US>param2</span>参数含义根据<span
lang=EN-US>mode</span>决定<span lang=EN-US>.<span style='color:fuchsia'>(</span></span><span
style='color:fuchsia'>此模式需要加载驱动<span lang=EN-US>)<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span></span></span><span
lang=EN-US>mode</span>取值<span lang=EN-US>0 1 2 3</span>，具体含义如下<span lang=EN-US>:<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>0: </span>此时<span
lang=EN-US>param1</span>表示需要注入的<span class=SpellE><span lang=EN-US>dll</span></span>全路径<span
lang=EN-US>. param2</span>表示为<span lang=EN-US>&lt;unlink erase&gt;.</span>注入方式是通过创建线程注入<span
lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>unlink(</span>取值<span lang=EN-US>0</span>和<span lang=EN-US>1)</span>，表示是否<span
class=GramE>从进程</span>模块链表中断链<span lang=EN-US>,</span>取<span lang=EN-US>1</span>表示断链<span
lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>erase(</span>取值<span
lang=EN-US>0</span>和<span lang=EN-US>1),</span>表示是否擦除<span lang=EN-US>PE</span>头<span
lang=EN-US>,</span>取<span lang=EN-US>1</span>表示擦除<span lang=EN-US>. <br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>1: </span>此时<span
lang=EN-US>param1</span>表示需要注入的<span class=SpellE><span lang=EN-US>dll</span></span>全路径<span
lang=EN-US>. param2</span>表示为<span lang=EN-US>&lt;unlink erase&gt;.</span>注入方式是通过<span
lang=EN-US>APC</span>注入<span lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>unlink(</span>取值<span lang=EN-US>0</span>和<span lang=EN-US>1)</span>，表示是否<span
class=GramE>从进程</span>模块链表中断链<span lang=EN-US>,</span>取<span lang=EN-US>1</span>表示断链<span
lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>erase(</span>取值<span lang=EN-US>0</span>和<span lang=EN-US>1),</span>表示是否擦除<span
lang=EN-US>PE</span>头<span lang=EN-US>,</span>取<span lang=EN-US>1</span>表示擦除<span
lang=EN-US>. <br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>2: </span>此时<span
lang=EN-US>param1</span>表示需要注入的<span class=SpellE><span lang=EN-US>dll</span></span>全路径<span
lang=EN-US>. param2</span>表示为<span lang=EN-US>&lt;<span class=SpellE>hidevad</span>
erase <span class=SpellE>nothread</span> <span class=SpellE>noimportdll</span>&gt;.</span>注入方式是内存加载<span
lang=EN-US>DLL.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>hidevad</span>(</span>取值<span lang=EN-US>0</span>和<span
lang=EN-US>1),</span>表示是否擦除<span class=SpellE><span lang=EN-US>vad</span></span><span
lang=EN-US>,</span>取<span lang=EN-US>1</span>表示擦除<span lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>erase(</span>取值<span lang=EN-US>0</span>和<span lang=EN-US>1),</span>表示是否擦除<span
lang=EN-US>PE</span>头<span lang=EN-US>,</span>取<span lang=EN-US>1</span>表示擦除<span
lang=EN-US>. <br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>nothread</span>(</span>取值<span lang=EN-US>0</span>和<span
lang=EN-US>1),</span>表示是否在注入时创建线程<span lang=EN-US>,</span>取<span lang=EN-US>1</span>表示<span
class=GramE>不</span>创建<span lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>noimportdll</span>(</span>取值<span lang=EN-US>0</span>和<span
lang=EN-US>1),</span>表示是否再次加载此<span lang=EN-US>DLL</span>中的导入表<span lang=EN-US>DLL,</span>取<span
lang=EN-US>1</span>表示<span class=GramE>不</span>加载<span lang=EN-US>,</span>直接使用<span
lang=EN-US>.</span>除非你真的理解这个参数的意义<span lang=EN-US>,</span>否则不要轻易设置为<span
lang=EN-US>1,</span>会导致进程崩溃<span lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span>3: </span>此时<span
lang=EN-US>param1</span>表示需要注入的<span class=SpellE><span lang=EN-US>dll</span></span>的地址和大小<span
lang=EN-US>. param1</span>表示为<span lang=EN-US>&lt;<span class=SpellE>addr,size</span>&gt;.
param2</span>表示为<span lang=EN-US>&lt;<span class=SpellE>hidevad</span> erase <span
class=SpellE>nothread</span> <span class=SpellE>noimportdll</span>&gt;.</span>注入方式是内存加载<span
lang=EN-US>DLL.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>addr</span></span>表示<span lang=EN-US>DLL</span>的起始地址<span
lang=EN-US>,10</span>进制表示<span lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>size</span>表示<span
lang=EN-US>DLL</span>的大小，<span lang=EN-US>10</span>进制表示<span lang=EN-US><br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>hidevad</span>(</span>取值<span lang=EN-US>0</span>和<span
lang=EN-US>1),</span>表示是否擦除<span class=SpellE><span lang=EN-US>vad</span></span><span
lang=EN-US>,</span>取<span lang=EN-US>1</span>表示擦除<span lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>erase(</span>取值<span lang=EN-US>0</span>和<span lang=EN-US>1),</span>表示是否擦除<span
lang=EN-US>PE</span>头<span lang=EN-US>,</span>取<span lang=EN-US>1</span>表示擦除<span
lang=EN-US>. <br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>nothread</span>(</span>取值<span lang=EN-US>0</span>和<span
lang=EN-US>1),</span>表示是否在注入时创建线程<span lang=EN-US>,</span>取<span lang=EN-US>1</span>表示<span
class=GramE>不</span>创建<span lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>noimportdll</span>(</span>取值<span lang=EN-US>0</span>和<span
lang=EN-US>1),</span>表示是否再次加载此<span lang=EN-US>DLL</span>中的导入表<span lang=EN-US>DLL,</span>取<span
lang=EN-US>1</span>表示<span class=GramE>不</span>加载<span lang=EN-US>,</span>直接使用<span
lang=EN-US>.</span>除非你真的理解这个参数的意义<span lang=EN-US>,</span>否则不要轻易设置为<span
lang=EN-US>1,</span>会导致进程崩溃<span lang=EN-US>.<br>
<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp; </span></span>以上几种注入模式<span
lang=EN-US>,</span>最隐蔽的是<span lang=EN-US>2</span>和<span lang=EN-US>3,</span>并且<span
lang=EN-US>param2</span>取为<span lang=EN-US>&lt;1,1,1,1&gt;. </span>可以自己测试使用<span
lang=EN-US>.<o:p></o:p></span></span></p>

<p style='margin-left:81.0pt;text-indent:-81.0pt;mso-char-indent-count:-6.0'><span
lang=EN-US style='font-size:13.5pt'><br>
&quot;del &lt;path&gt;&quot; :</span><span style='font-size:13.5pt'>强制删除指定的文件<span
lang=EN-US>. path</span>表示需要删除的文件的全路径<span lang=EN-US>. </span>当<span
lang=EN-US>path</span>为<span lang=EN-US>0</span>时<span lang=EN-US>,</span>表示为当前<span
lang=EN-US>dm.dll</span>的路径<span lang=EN-US>,</span>当<span lang=EN-US>path</span>为<span
lang=EN-US>1</span>时<span lang=EN-US>,</span>表示为当前<span lang=EN-US>EXE</span>的全路径<span
lang=EN-US>.<span style='color:fuchsia'>(</span></span><span style='color:fuchsia'>此模式需要加载驱动<span
lang=EN-US>)<br>
</span></span>其它后续开发<span lang=EN-US>.<o:p></o:p></span></span></p>

<p style='margin-left:81.0pt;text-indent:-81.0pt;mso-char-indent-count:-6.0'><span
lang=EN-US style='font-size:13.5pt'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&quot;</span><span
style='font-size:13.5pt;color:red'>★ </span><span class=SpellE><span
lang=EN-US style='font-size:13.5pt'>cl</span></span><span lang=EN-US
style='font-size:13.5pt'> <span class=SpellE>pid</span> type name&quot;: </span><span
style='font-size:13.5pt'>关闭指定进程中，对象名字中含有<span lang=EN-US>name</span>的句柄<span
lang=EN-US>. <span class=SpellE>pid</span></span>表示进程<span lang=EN-US>PID. type</span>表示需要关闭的句柄类型<span
lang=EN-US>. </span>比如<span lang=EN-US>Section Event Mutant</span>等<span
lang=EN-US>. </span>具体的类型可以用<span class=SpellE><span lang=EN-US>pchunter</span></span>查看<span
lang=EN-US>.<br>
<span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>name</span>表示需要查找的对象名<span lang=EN-US>. </span>注意<span lang=EN-US>type</span>和<span
lang=EN-US>name</span>都是大小写敏感的<span lang=EN-US>.<o:p></o:p></span></span></p>

<p style='margin-left:81.0pt;text-indent:-81.0pt;mso-char-indent-count:-6.0'><span
lang=EN-US style='font-size:13.5pt'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>&quot;hl
[<span class=SpellE>pid</span>]&quot; : </span><span style='font-size:13.5pt'>隐藏指定进程中的句柄<span
lang=EN-US>,</span>无法用正常手段获取到<span lang=EN-US>. <span class=SpellE>pid</span></span>为可选参数<span
lang=EN-US>.</span>如果不指定<span class=SpellE><span lang=EN-US>pid</span></span>，默认为当前进程<span
lang=EN-US>.<span style='color:fuchsia'> (</span></span><span style='color:
fuchsia'>此模式需要加载驱动<span lang=EN-US>)<o:p></o:p></span></span></span></p>

<p style='margin-left:81.0pt;text-indent:-81.0pt;mso-char-indent-count:-6.0'><span
lang=EN-US style='font-size:13.5pt;color:fuchsia'><span style='mso-tab-count:
1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US style='font-size:13.5pt'>&quot;<span class=SpellE>gr</span>&quot; : </span><span
style='font-size:13.5pt'>开启句柄操作，具体查看<span class=SpellE><span lang=EN-US>DmGuardParams</span></span>相关说明<span
lang=EN-US>.<span style='color:fuchsia'> (</span></span><span style='color:
fuchsia'>此模式需要加载驱动<span lang=EN-US>)<o:p></o:p></span></span></span></p>

<p><span class=style11><span style='font-size:13.5pt'>返回值<span lang=EN-US>:</span></span></span><span
lang=EN-US style='font-size:13.5pt'><br>
<br>
</span><span style='font-size:13.5pt;color:maroon'>整形数<span lang=EN-US>:</span></span><span
lang=EN-US style='font-size:13.5pt'><br>
0 : </span><span style='font-size:13.5pt'>不支持的保护<span class=GramE>盾</span>类型<span
lang=EN-US><br>
1 : </span>成功<span lang=EN-US><br>
-1 : 32</span>位平台不支持<span lang=EN-US><br>
-2 : </span>驱动释放失败<span lang=EN-US>.<span style='color:fuchsia'>(</span></span><span
style='color:fuchsia'>可能原因是权限不够<span lang=EN-US>)</span></span><span
lang=EN-US> <br>
-3 : </span>驱动加载失败<span lang=EN-US>,</span>可能是权限不够<span lang=EN-US>. </span>参考<span
lang=EN-US>UAC</span>权限设置<span lang=EN-US>.</span>或者是被安全软件拦截<span lang=EN-US>. </span>如果是在<span
lang=EN-US>64</span>位系统下返回此错误，需要安装补丁<span lang=EN-US>KB3033929.<o:p></o:p></span></span></p>

<p style='text-indent:33.75pt;mso-char-indent-count:2.5'><span
style='font-size:13.5pt'>如果是<span lang=EN-US>WIN10 1607</span>之后的系统，出现这个错误，可<span
lang=EN-US><a href="../常见问题/64位系统如何加载驱动.htm"><span lang=EN-US><span lang=EN-US>参考这里</span></span></a><o:p></o:p></span></span></p>

<p style='text-indent:33.75pt;mso-char-indent-count:2.5'><span
style='font-size:13.5pt'>还有一个可能，如果使用了定制的插件，如果原先加载了老的驱动，那么新的定制可能会无法加载，返回<span
lang=EN-US>-3. </span>只需要重启系统即可<span lang=EN-US>.(</span><span
style='color:fuchsia'>必须是重启，不是关机再开机</span><span lang=EN-US>)<br>
-555 : f2</span>盾的返回值<span lang=EN-US>, <span class=SpellE>protect_process</span></span>路径无法访问<span
lang=EN-US>.<br>
-666 : f2</span>盾的返回值<span lang=EN-US>, <span class=SpellE>target_process</span></span>无法创建进程<span
lang=EN-US>.(</span>可能路径错误<span lang=EN-US>?)<br>
-777 : f2</span>盾的返回值<span lang=EN-US>,</span>其它异常错误<span lang=EN-US>.<br>
-<st1:chsdate Year="2004" Month="5" Day="6" IsLunarDate="False"
IsROCDate="False" w:st="on">4 -5 -6</st1:chsdate> </span>都是异常错误<span
lang=EN-US>.<br>
-7: </span>一般是系统版本不支持导致<span lang=EN-US>,</span>用<span class=SpellE><span
lang=EN-US>winver</span></span>可以查看系统内部版本号<span lang=EN-US>. </span>驱动只支持正式发布的版本，所有预览版本都不支持<span
lang=EN-US>.<br>
-8: </span>驱动加载失败<span lang=EN-US>. </span>检查要加载的盾需要的条件<span lang=EN-US>.<br>
-9 : </span>表示参数错误<span lang=EN-US>.<br>
-10 : </span>表示此盾的功能失败了<span lang=EN-US>.<br>
-11 : </span>表示分配内存失败<span lang=EN-US>.<br>
-14 : </span>无效的窗口句柄<span lang=EN-US><br>
-16 : </span>此功能依赖的驱动没有先启动<span lang=EN-US><o:p></o:p></span></span></p>

<p><span class=style11><span style='font-size:13.5pt'>示例<span lang=EN-US>:</span></span></span><span
lang=EN-US style='font-size:13.5pt'><br>
<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;np&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;memory&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;display2&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;block&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;block 1044&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;b2&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;b2 1044&quot;<br>
<span class=SpellE>dm.DmGuard</span> 0,&quot;b2&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;f1&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;f1 2358&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;f2
&lt;c:\windows\system32\calc.exe&gt; &lt;d:\test\my.exe&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;f2 &lt;d:\test\my_cheate.exe&gt;
&lt;d:\test\my.exe&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;f2 &lt;d:\test\aaa.dat&gt;
&lt;d:\test\my.exe&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;b3&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;b3 1044&quot;<br>
<span class=SpellE>dm.DmGuard</span> 0,&quot;b3&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;memory2&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;memory3 1044&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;hm dm.dll 1&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;hm dm.dll 0&quot;<br>
// </span><span style='font-size:13.5pt'>这个是隐藏<span lang=EN-US>exe</span>模块<span
lang=EN-US><br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;hm 0 1&quot; <br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;hm xxx.dll 1&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;inject 0 1044 &lt;c:\test.dll&gt;
&lt;1 <span class=SpellE>1</span>&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;inject 1 1044 &lt;c:\test.dll&gt;
&lt;1 0&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;inject 2 1044 &lt;c:\test.dll&gt;
&lt;1 <span class=SpellE>1</span> <span class=SpellE>1</span> 0&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;inject 3 1044 &lt;239458,568&gt;
&lt;1 <span class=SpellE>1</span> <span class=SpellE>1</span> <span
class=SpellE>1</span>&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;del &lt;c:\test.dll&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;del &lt;0&gt;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;del &lt;1&gt;&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;display3 1188&quot;<br>
<span class=SpellE>dm.DmGuard</span> 0,&quot;display3 1188&quot;<br>
// </span>关闭进程<span lang=EN-US>1024</span>中<span lang=EN-US>,</span>类型为<span
lang=EN-US>Mutant</span>的，名字中含有<span lang=EN-US>test123</span>的句柄<span
lang=EN-US>.<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;cl 1024 Mutant test123&quot;<br>
// </span>关闭进程<span lang=EN-US>1024</span>中<span lang=EN-US>,</span>类型为<span
lang=EN-US>Event</span>的，名字中含有<span class=SpellE><span lang=EN-US>abc</span></span>的句柄<span
lang=EN-US>.<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;cl 1024 Event <span class=SpellE>abc</span>&quot;<br>
<br>
// </span>清除拦截列表<span lang=EN-US><br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;d1 <span class=SpellE>cls</span>&quot;<br>
// </span>拦截<span class=SpellE><span lang=EN-US>dll</span></span>名字中含有<span
class=SpellE><span lang=EN-US>antiphinshing</span></span>的所有<span class=SpellE><span
lang=EN-US>dll</span></span><span lang=EN-US><br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;d1 add <span class=SpellE>antiphinshing</span>
0&quot;<br>
// </span>拦截<span class=SpellE><span lang=EN-US>dll</span></span>名字完全等同于<span
lang=EN-US>abc.dll</span>的<span lang=EN-US>DLL</span>加载<span lang=EN-US><br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;d1 add abc.dll 1&quot;<br>
// </span>拦截所有<span lang=EN-US>DLL</span>的加载<span lang=EN-US><br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;d1 add all&quot;<o:p></o:p></span></span></p>

<p><span lang=EN-US style='font-size:13.5pt'>// </span><span style='font-size:
13.5pt'>隐藏句柄<span lang=EN-US><br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;hl&quot;<br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;hl 1024&quot;<o:p></o:p></span></span></p>

<p><span lang=EN-US style='font-size:13.5pt'>// </span><span style='font-size:
13.5pt'>开启句柄操作<span lang=EN-US><br>
<span class=SpellE>dm.DmGuard</span> 1,&quot;gr&quot;<o:p></o:p></span></span></p>

<p><span style='font-size:13.5pt;color:fuchsia'>注<span lang=EN-US> : </span>此函数最好在目标进程打开之前调用即可。调用一次即可。
尽量保证此函数第一个被执行，以免和其他驱动冲突<span lang=EN-US>.</span>此函数最好在绑定之前执行<span lang=EN-US>.<br>
</span>可多个组合调用<span lang=EN-US>.<br>
</span>另外<span class=SpellE><span lang=EN-US>np</span></span>和<span lang=EN-US>display2</span>盾有点特殊<span
lang=EN-US>,</span>必须保证调用此对象的<span lang=EN-US>dm</span>对象一直处于存在状态<span
lang=EN-US>,</span>不可以释放<span lang=EN-US>. </span>一旦释放<span lang=EN-US>,</span>等于没调用<span
lang=EN-US>.</span>比如有些人喜欢在按键的<span class=SpellE><span lang=EN-US>OnScriptLoad</span></span>中调用这<span
lang=EN-US>2</span>个盾<span lang=EN-US>,</span>实际上<span class=SpellE><span
lang=EN-US>OnScriptLoad</span></span>执行完以后<span lang=EN-US>,</span>对象会自动被释放掉<span
lang=EN-US>.<br>
f2</span>盾特别注意<span lang=EN-US>,</span></span><span lang=EN-US
style='font-size:13.5pt'> <span class=SpellE><span style='color:fuchsia'>protect_process</span></span></span><span
style='font-size:13.5pt;color:fuchsia'>为你的真正需要运行的程序<span lang=EN-US>,</span></span><span
lang=EN-US style='font-size:13.5pt'> <span class=SpellE><span style='color:
fuchsia'>target_process</span></span></span><span style='font-size:13.5pt;
color:fuchsia'>为任意一个可执行的<span lang=EN-US>exe,</span>最后<span class=SpellE><span
lang=EN-US>protect_process</span></span>被伪装成<span class=SpellE><span
lang=EN-US>target_process</span></span>运行<span lang=EN-US>. </span>但由于兼容性问题<span
lang=EN-US>, <span class=SpellE>target_process</span></span>的选取并不是任意的<span
lang=EN-US>,</span>请自己做好测试<span lang=EN-US>. </span>有些<span class=SpellE><span
lang=EN-US>target_process</span></span>会出现让你的程序<span lang=EN-US>UI</span>不太正常等异常问题<span
lang=EN-US>. </span>经过我测试<span lang=EN-US>,</span>最好是使用自己平台编译出的<span
lang=EN-US>exe</span>最好<span lang=EN-US>. </span>当然<span lang=EN-US>,</span>如果你使用系统<span
lang=EN-US>exe</span>或者其它<span lang=EN-US>EXE</span>，只要测试没问题，也是<span
lang=EN-US>OK</span>的<span lang=EN-US>. </span>另外<span lang=EN-US>,</span>这<span
lang=EN-US>2</span>个<span lang=EN-US>EXE</span>必须都是<span lang=EN-US>32</span>位的<span
lang=EN-US>,</span>否则会加载失败<span lang=EN-US>!<span
style='mso-spacerun:yes'>&nbsp;&nbsp; </span></span>调用此盾的程序相当于是个<span
lang=EN-US>EXE</span>加载器<span lang=EN-US>,</span>加载成功后<span lang=EN-US>,</span>自己就可以退出了<span
lang=EN-US>.<br>
f2</span>盾使用至少需要<span lang=EN-US>3</span>个<span lang=EN-US>EXE, A B C,</span>其中<span
lang=EN-US>A</span>是加载器，里面执行<span lang=EN-US>f2</span>盾<span lang=EN-US>,B</span>是被伪装成的程序，<span
lang=EN-US>C</span>是你的真正的程序<span lang=EN-US>. A</span>执行<span lang=EN-US>f2</span>盾类似这样<span
lang=EN-US>,<span class=SpellE>DmGuard</span> 1,&quot;f2 B C&quot;<br>
f2</span>盾有个限制，如果<span lang=EN-US>C</span>是使用<span lang=EN-US>f2</span>启动的，那么<span
lang=EN-US>C</span>里面会无法加载驱动。比如我的<span class=SpellE><span lang=EN-US>DmGuard</span></span>函数在<span
lang=EN-US>C</span>中会失败<span lang=EN-US>. </span>解决办法是所有在<span lang=EN-US>C</span>中需要加载的盾，都必须在<span
lang=EN-US>A</span>里面也加载一次。<span lang=EN-US> <br>
<br>
<br>
</span>另外<span lang=EN-US>4</span>个<span lang=EN-US>memory</span>盾是可以切换的<span
lang=EN-US>,</span>切换方式是重新调用另一个<span lang=EN-US>memory</span>盾即可<span
lang=EN-US>,</span>只有最后调用的<span lang=EN-US>memory</span>盾生效<span lang=EN-US>.<o:p></o:p></span></span></p>

<p><span style='font-size:13.5pt;color:fuchsia'>盾都要求在目标进程开启之前开启<span
lang=EN-US>,</span>但<span lang=EN-US>memory3</span>比较特殊<span lang=EN-US>,</span>因为他必须接一个真实存在的<span
class=SpellE><span lang=EN-US>pid</span></span>。 对于这种情况，只需要提前加载<span
lang=EN-US>memory2,</span>等目标进程打开以后，再调用<span lang=EN-US>memory3</span>即可<span
lang=EN-US>.<br style='mso-special-character:line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]><o:p></o:p></span></span></p>

<p><span lang=EN-US style='font-size:13.5pt;color:fuchsia'>4</span><span
style='font-size:13.5pt;color:fuchsia'>个<span lang=EN-US>memory</span>盾在相同接口下的速度如下<span
lang=EN-US> memory3&gt;memory4&gt;memory&gt;memory2<br>
4</span>个<span lang=EN-US>memory</span>盾突破防护的能力如下<span lang=EN-US>
memory2&gt;memory3&gt;memory4&gt;memory<br>
</span>另外<span lang=EN-US>,</span>如果您需要极限读写速度<span lang=EN-US>,</span>请使用带<span
class=SpellE><span lang=EN-US>Addr</span></span>系列的读写接口<span lang=EN-US>,</span>比相同系列不带<span
class=SpellE><span lang=EN-US>Addr</span></span>的接口速度要快<span lang=EN-US>30%. <br>
</span>如果您要使用<span lang=EN-US>memory</span>系列盾<span lang=EN-US>,</span>请让它第一个被加载<span
lang=EN-US>,</span>这样可以让效率最大化<span lang=EN-US>.<br style='mso-special-character:
line-break'>
<![if !supportLineBreakNewLine]><br style='mso-special-character:line-break'>
<![endif]><o:p></o:p></span></span></p>

<p><span lang=EN-US style='font-size:13.5pt;color:fuchsia'>display3</span><span
style='font-size:13.5pt;color:fuchsia'>盾仅仅支持<span lang=EN-US>win7</span>以上系统<span
lang=EN-US>. </span>并且系统必须开启了<span lang=EN-US>DWM. </span>否则会返回失败<span
lang=EN-US>. win10</span>以下的系统可以手动设置<span lang=EN-US>DWM</span>的开关<span
lang=EN-US>,win10</span>以上的系统是强制打开的<span lang=EN-US>,</span>无法关闭<span
lang=EN-US>.<br>
</span>所以此盾在<span lang=EN-US>win10</span>系统上效果很好<span lang=EN-US>.<span
style='mso-spacerun:yes'>&nbsp; </span></span>下图是<span lang=EN-US>win7</span>如何打开<span
lang=EN-US>DWM,</span>也就是说只要勾选了启用桌面组合和在窗口和按钮上使用视觉样式就会开启<span class=SpellE><span
lang=EN-US>dwm</span></span><span lang=EN-US>. win8</span>应该也是类似<span
lang=EN-US>.<br>
<br>
<!--[if gte vml 1]><v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75"
 o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:311.25pt;
 height:390pt'>
 <v:imagedata src="DmGuard.files/image001.png" o:title="1"/>
</v:shape><![endif]--><![if !vml]><img border=0 width=415 height=520
src="DmGuard.files/image003.jpg" v:shapes="_x0000_i1025"><![endif]><o:p></o:p></span></span></p>

<p><span style='font-size:13.5pt;color:fuchsia'>如果您开启了<span class=SpellE><span
lang=EN-US>dwm</span></span>，并且调用成功了<span lang=EN-US>display3</span>盾后<span
lang=EN-US>,</span>如果中途关闭了<span class=SpellE><span lang=EN-US>dwm</span></span><span
lang=EN-US>,</span>那么保护就会失效<span lang=EN-US>. </span>另外此盾只能保护当前进程的窗口<span
lang=EN-US>.<o:p></o:p></span></span></p>

</div>

</body>

</html>
